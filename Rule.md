# AI Lovers - CEDEC 2014 AI Challenge

注意：本ルールドキュメントは試作版であり、今後大きく変更される可能性があります。

## ゲームの概要

あなたはプレイボーイ。女の子たちとデートして好感度を上げよう。
ライバルたちを出し抜いて、女の子たちのハートをキャッチせよ！

## ゲームの目的

_女の子_ の _好感度_ によって決まる _人気点_ を、他の _プレイヤー_ より多く獲得する。
人気点は女の子一人ひとりに対して決まるので、バランスを考えた攻略が不可欠である。

## ルールの疑似コード

自然言語よりコードを見せろ！という方に向けて、[ルールの疑似コード](#PseudoCode)を用意した。

## ゲームの大まかな流れ

プレイヤーは4人、女の子は10人いる。

このゲームはターン制であり、1ターンは1週間として表される。
各ターンごとに、プレイヤーたちは好きな女の子と _デート_ して好感度をためる。

10ターンでゲームが終了し、プレイヤーたちは女の子たちの好感度に応じて人気点を獲得する。
他のプレイヤーより好感度をたくさんためていれば人気点がもらえるが、好感度が低いと人気点を失ってしまうこともある。
人気点を最も多く獲得したプレイヤーの勝利となる。

## ゲームの開始

ゲームが開始すると、まずそれぞれの女の子に _熱狂度_ が3から6の間でランダムに設定され、プレイヤーに公開される。
熱狂度が高い女の子ほど、ゲーム終了時にもらえる（または失う！）人気点が多くなる。

## ターンの流れ

ターンが始まると、プレイヤーたちは一斉にデート相手を選ぶ。
ターンは _平日_ と _休日_ のいずれかであり、平日であれば1ターンで5回デートができるが、休日では1ターンに2回のみデートできる。
1ターン目は平日であり、1ターンごとに平日と休日が交互に入れ替わる。
1回のデートでは1人の相手とデートでき、デートした相手の自分への好感度を1上げられる。
ただし、休日は1回のデートにつき好感度が2上がる。
1ターン中のデート相手の割り振りは自由である。
例えば平日であれば、バラバラの5人と1回ずつデートしても良いし、同じ相手と5回デートしても良い。

全プレイヤーがデート相手を選んだら、女の子たちの好感度が計算される。
そのターンが平日なら、誰が誰とデートしたか全員に公開されるが、休日の場合は公開されない。

下の表は、平日と休日のデートの特徴をまとめたものだ。

|                     | 平日 | 休日   |
| ------------------- | ---- | ------ |
| デート回数            | 5    | 2      |
| デート1回で上がる好感度 | 1    | 2      |
| デート情報の公開       | 公開 | 非公開 |

## ゲームの終了

10ターン目が終わると、ゲームが終了し、人気点の計算に入る。

女の子からもらえる人気点は、その女の子の好感度を他のプレイヤーと比べて決められる。
その女の子からの好感度が全プレイヤー中で最も高い場合は、熱狂度と同じ点数を獲得する。
逆に全プレイヤー中で最も低い場合は、熱狂度と同じ点数を失う。
同点でトップや最下位のプレイヤーがいる場合は、そのプレイヤー全員が熱狂度と同じだけ得点あるいは失点する。

各プレイヤーの人気点を全員の女の子に対して計算したら、最も人気点の高いプレイヤーが勝利する。
人気点トップのプレイヤーが複数いる場合は、そのゲームは引き分けとなる。

## AIの入出力形式

AIはゲーム開始時に実行され、ターンごとに現在の情報を入力として受け取り、そのターンでのデート相手を出力する。

### 入力形式

各ターンで受け取る情報は、以下のフォーマットで標準入力に渡される。

    T
    I
    E0 L00　L01 L02 L03 R0
    E1 L10　L11 L12 L13 R1
    E2 L20　L21 L22 L23 R2
    :
    :
    E9 L90　L91 L92 L93 R9

T: 現在のターン数。1から始まる。

I: このAIプレイヤーのID。0から3のいずれか。

En: 女の子nの熱狂度。

Lnm: 女の子nからプレイヤーmへの公開されている（つまり平日の情報のみでわかる）好感度。

Rn: 女の子nからこのAIプレイヤーへの真の（つまり休日も合わせた）好感度。

全ての値は整数値として与えられる。

ゲームが終了すると、"-1"という1行だけが入力される。

### 出力形式

そのターンでのデート相手は、以下のフォーマットで標準出力に出力する。

* __平日の場合__

    H0 H1 H2 H3 H4
  
* __休日の場合__

    H0 H1

Hn: デート相手の女の子。順番は関係しない。

<a name="PseudoCode"></a>

## ルールの疑似コード

    heroine = (enthusiasm, love[4], real_love[4])

    init:
        players = player[4]
        heroines = heroine[10] (rnd, [0, 0, 0, 0], [0, 0, 0, 0])
        turn = 1

    process_turn:
        for h in players:
            show h.enthusiasm and h.love to all players

        for p in players:
            for i in [1 .. (is_holiday ? 2 : 5)]:
                p selects target from heroines
                target.love[p] += (is_holiday ? 0 : 1)
                target.real_love[p] += (is_holiday ? 2 : 1)
        turn += 1
        end if turn > 10

    is_holiday:
        turn % 2 == 0

    end:
        for h in heroines:
            best_players = argmax_p(h.real_love[p])
            for p in best_players:
                p.popularity += h.enthusiasm
        winners = argmax_p{p in players}(p.popularity)
        draw if winners.size > 1
